[gd_scene load_steps=23 format=3 uid="uid://dgy7nd0e24q6y"]

[ext_resource type="Script" path="res://scripts/nodescript/main.gd" id="1_aqx1i"]
[ext_resource type="PackedScene" uid="uid://bql0f4pdji8ss" path="res://scripts/nodescript/player.tscn" id="2_4n4kg"]
[ext_resource type="PackedScene" uid="uid://bqmctv5ywuvhr" path="res://scripts/nodescript/node.tscn" id="3_m4kih"]
[ext_resource type="Texture2D" uid="uid://dmtippcgwhgd5" path="res://24579420f6eb1d2.jpg" id="4_fcnm7"]
[ext_resource type="Script" path="res://scripts/nodescript/camera_2d.gd" id="9_twhn5"]
[ext_resource type="PackedScene" uid="uid://cxgwhyv3733l4" path="res://scripts/nodescript/key.tscn" id="22_3mcbc"]

[sub_resource type="GDScript" id="GDScript_ekua6"]
script/source = "#extends Node2D
#
#
#var result
#var equation_label : Label
#var index_node = 1
#@onready var perent_node : Node2D = null
#@onready var child_node = [$\"../Node2\",$\"../Node3\",$\"../Node4\"]
#@onready var player = $Player
#
#var awswer_move =[]
#
#func _ready() -> void:
	##get_parent().current_node = get_node(self.node)
	#hide()
	#equation_label = $Label
	#generate_equation()
	#print($\"../Node2\".result)
	#
	#
#
#
## Called every frame. 'delta' is the elapsed time since the previous frame.
#func _process(delta: float) -> void:
	#pass
#
#func generate_equation() -> void:
	#var operator:Array = [\"+\", \"-\", \"*\", \"/\"]
	#var num1 = randi_range(-9, 9)
	#var num2 = randi_range(-9, 9)
	#var random_operator = randi_range(0, 3)
	#
	#match random_operator:
		#0:
			#result = num1 + num2
		#1:
			#result = num1 - num2
		#2:
			#result = num1 * num2
		#3:
			#while num2 == 0 or num1 % num2 != 0:
				#num2 = randi_range(-9, 9)
			#result = num1 / num2
	#
	#
	#equation_label.text = str(num1, \" \", operator[random_operator], \" \", num2, \" = ?\")
	#
#
#func _on_area_2d_body_entered(body: Node2D) -> void:
	#
	#get_parent().current_node = name
	#
	#
	#get_parent().current_answers = [0, child_node[0].result ,child_node[1].result,child_node[2].result]
	#
	#
	#show()
	#equation_label.visible = false
	#for i in child_node :
		#i.show()
	#
#
#
#func _on_area_2d_body_exited(body: Node2D) -> void:
	#generate_equation()
	#equation_label.visible = true 
#func check_answer(new_text : String):
	#if new_text == str(perent_node.result):
		#move_player_to_node(perent_node)  # ย้ายไปยังโหนดแม่
	#if new_text == str(child_node[0].result):
		#move_player_to_node(child_node[0])  # ย้ายไปยังโหนดลูก 0
	#if new_text == str(child_node[1].result):
		#move_player_to_node(child_node[1])  # ย้ายไปยังโหนดลูก 1
	#if new_text == str(child_node[2].result):
		#move_player_to_node(child_node[2])
			#
#func move_player_to_node(target_node: Node2D) -> void:
	#player.position = target_node.position

extends Node2D

var result
var equation_label : Label
@onready var parent_node : Node2D = null  # โหนดแม่
@onready var child_node = [$\"../Node2\", $\"../Node3\", $\"../Node4\"]  # โหนดลูก
@onready var player = $Player  # ตัวละคร

var answer_move = []

# เริ่มต้น
func _ready() -> void:
	hide()  # ซ่อนโหนดในตอนแรก
	equation_label = $Label  # ตั้งค่าฉลากที่แสดงโจทย์
	generate_equation()  # สร้างโจทย์ทางคณิตศาสตร์
	print($\"../Node2\".result)  # ตรวจสอบคำตอบของโหนดลูก

# ฟังก์ชันสร้างโจทย์ทางคณิตศาสตร์
func generate_equation() -> void:
	var operator: Array = [\"+\", \"-\", \"*\", \"/\"]
	var num1 = randi_range(-9, 9)
	var num2 = randi_range(-9, 9)
	var random_operator = randi_range(0, 3)

	match random_operator:
		0:
			result = num1 + num2
		1:
			result = num1 - num2
		2:
			result = num1 * num2
		3:
			while num2 == 0 or num1 % num2 != 0:
				num2 = randi_range(-9, 9)
			result = num1 / num2

	equation_label.text = str(num1, \" \", operator[random_operator], \" \", num2, \" = ?\")

# ฟังก์ชันเมื่อมีการชนกับร่างกาย
func _on_area_2d_body_entered(body: Node2D) -> void:
	#get_parent().current_node = get_node(name)  # ตั้งค่าชื่อของโหนดเป็น current_node
	get_parent().current_answers = [result, child_node[0].result, child_node[1].result, child_node[2].result]
	
	show()  # แสดงโหนด
	equation_label.visible = false  # ซ่อนโจทย์
	for i in child_node:
		i.show()  # แสดงโหนดลูก

# ฟังก์ชันเมื่อร่างกายออกจากพื้นที่
func _on_area_2d_body_exited(body: Node2D) -> void:
	generate_equation()  # สร้างโจทย์ใหม่
	equation_label.visible = true  # แสดงโจทย์ใหม่

# ฟังก์ชันตรวจสอบคำตอบ
func check_answer(new_text : String):
	if new_text == str(parent_node.result):
		move_player_to_node(parent_node)  # ย้ายไปยังโหนดแม่
	elif new_text == str(child_node[0].result):
		move_player_to_node(child_node[0])  # ย้ายไปยังโหนดลูก 0
	elif new_text == str(child_node[1].result):
		move_player_to_node(child_node[1])  # ย้ายไปยังโหนดลูก 1
	elif new_text == str(child_node[2].result):
		move_player_to_node(child_node[2])  # ย้ายไปยังโหนดลูก 2

# ฟังก์ชันย้ายตัวละครไปยังโหนด
func move_player_to_node(target_node: Node2D) -> void:
	player.position = target_node.position
"

[sub_resource type="GDScript" id="GDScript_xihx2"]
script/source = "#extends Node2D
#
#
#var result
#var equation_label : Label
#var index_node = 1
#@onready var perent_node : Node2D = null
#@onready var child_node = [$\"../Node2\",$\"../Node3\",$\"../Node4\"]
#@onready var player = $Player
#
#var awswer_move =[]
#
#func _ready() -> void:
	##get_parent().current_node = get_node(self.node)
	#hide()
	#equation_label = $Label
	#generate_equation()
	#print($\"../Node2\".result)
	#
	#
#
#
## Called every frame. 'delta' is the elapsed time since the previous frame.
#func _process(delta: float) -> void:
	#pass
#
#func generate_equation() -> void:
	#var operator:Array = [\"+\", \"-\", \"*\", \"/\"]
	#var num1 = randi_range(-9, 9)
	#var num2 = randi_range(-9, 9)
	#var random_operator = randi_range(0, 3)
	#
	#match random_operator:
		#0:
			#result = num1 + num2
		#1:
			#result = num1 - num2
		#2:
			#result = num1 * num2
		#3:
			#while num2 == 0 or num1 % num2 != 0:
				#num2 = randi_range(-9, 9)
			#result = num1 / num2
	#
	#
	#equation_label.text = str(num1, \" \", operator[random_operator], \" \", num2, \" = ?\")
	#
#
#func _on_area_2d_body_entered(body: Node2D) -> void:
	#
	#get_parent().current_node = name
	#
	#
	#get_parent().current_answers = [0, child_node[0].result ,child_node[1].result,child_node[2].result]
	#
	#
	#show()
	#equation_label.visible = false
	#for i in child_node :
		#i.show()
	#
#
#
#func _on_area_2d_body_exited(body: Node2D) -> void:
	#generate_equation()
	#equation_label.visible = true 
#func check_answer(new_text : String):
	#if new_text == str(perent_node.result):
		#move_player_to_node(perent_node)  # ย้ายไปยังโหนดแม่
	#if new_text == str(child_node[0].result):
		#move_player_to_node(child_node[0])  # ย้ายไปยังโหนดลูก 0
	#if new_text == str(child_node[1].result):
		#move_player_to_node(child_node[1])  # ย้ายไปยังโหนดลูก 1
	#if new_text == str(child_node[2].result):
		#move_player_to_node(child_node[2])
			#
#func move_player_to_node(target_node: Node2D) -> void:
	#player.position = target_node.position

extends Node2D

var result
var equation_label : Label
@onready var parent_node : Node2D = $\"../Node1\"  # โหนดแม่
@onready var child_node = [$\"../Node5\", $\"../Node6\", $\"../Node7\"]  # โหนดลูก
@onready var player = $Player  # ตัวละคร

var answer_move = []

# เริ่มต้น
func _ready() -> void:
	hide()  # ซ่อนโหนดในตอนแรก
	equation_label = $Label  # ตั้งค่าฉลากที่แสดงโจทย์
	generate_equation()  # สร้างโจทย์ทางคณิตศาสตร์
	print($\"../Node2\".result)  # ตรวจสอบคำตอบของโหนดลูก

# ฟังก์ชันสร้างโจทย์ทางคณิตศาสตร์
func generate_equation() -> void:
	var operator: Array = [\"+\", \"-\", \"*\", \"/\"]
	var num1 = randi_range(-9, 9)
	var num2 = randi_range(-9, 9)
	var random_operator = randi_range(0, 3)

	match random_operator:
		0:
			result = num1 + num2
		1:
			result = num1 - num2
		2:
			result = num1 * num2
		3:
			while num2 == 0 or num1 % num2 != 0:
				num2 = randi_range(-9, 9)
			result = num1 / num2

	equation_label.text = str(num1, \" \", operator[random_operator], \" \", num2, \" = ?\")

# ฟังก์ชันเมื่อมีการชนกับร่างกาย
func _on_area_2d_body_entered(body: Node2D) -> void:
	#get_parent().current_node = get_node(name)  # ตั้งค่าชื่อของโหนดเป็น current_node
	get_parent().current_answers = [result, child_node[0].result, child_node[1].result, child_node[2].result]
	
	show()  # แสดงโหนด
	equation_label.visible = false  # ซ่อนโจทย์
	for i in child_node:
		i.show()  # แสดงโหนดลูก

# ฟังก์ชันเมื่อร่างกายออกจากพื้นที่
func _on_area_2d_body_exited(body: Node2D) -> void:
	generate_equation()  # สร้างโจทย์ใหม่
	equation_label.visible = true  # แสดงโจทย์ใหม่

# ฟังก์ชันตรวจสอบคำตอบ
func check_answer(new_text : String):
	if new_text == str(parent_node.result):
		move_player_to_node(parent_node)  # ย้ายไปยังโหนดแม่
	elif new_text == str(child_node[0].result):
		move_player_to_node(child_node[0])  # ย้ายไปยังโหนดลูก 0
	elif new_text == str(child_node[1].result):
		move_player_to_node(child_node[1])  # ย้ายไปยังโหนดลูก 1
	elif new_text == str(child_node[2].result):
		move_player_to_node(child_node[2])  # ย้ายไปยังโหนดลูก 2

# ฟังก์ชันย้ายตัวละครไปยังโหนด
func move_player_to_node(target_node: Node2D) -> void:
	player.position = target_node.position
"

[sub_resource type="GDScript" id="GDScript_wjjdx"]
script/source = "extends Node2D

var result
var equation_label : Label
@onready var parent_node : Node2D = $\"../Node1\"  # โหนดแม่
@onready var child_node = [$\"../Node5\", $\"../Node6\", $\"../Node7\"]  # โหนดลูก
@onready var player = $Player  # ตัวละคร

var answer_move = []

# เริ่มต้น
func _ready() -> void:
	hide()  # ซ่อนโหนดในตอนแรก
	equation_label = $Label  # ตั้งค่าฉลากที่แสดงโจทย์
	generate_equation()  # สร้างโจทย์ทางคณิตศาสตร์
	print($\"../Node2\".result)  # ตรวจสอบคำตอบของโหนดลูก

# ฟังก์ชันสร้างโจทย์ทางคณิตศาสตร์
func generate_equation() -> void:
	var operator: Array = [\"+\", \"-\", \"*\", \"/\"]
	var num1 = randi_range(-9, 9)
	var num2 = randi_range(-9, 9)
	var random_operator = randi_range(0, 3)

	match random_operator:
		0:
			result = num1 + num2
		1:
			result = num1 - num2
		2:
			result = num1 * num2
		3:
			while num2 == 0 or num1 % num2 != 0:
				num2 = randi_range(-9, 9)
			result = num1 / num2

	equation_label.text = str(num1, \" \", operator[random_operator], \" \", num2, \" = ?\")

# ฟังก์ชันเมื่อมีการชนกับร่างกาย
func _on_area_2d_body_entered(body: Node2D) -> void:
	#get_parent().current_node = get_node(name)  # ตั้งค่าชื่อของโหนดเป็น current_node
	get_parent().current_answers = [result, child_node[0].result, child_node[1].result, child_node[2].result]
	
	show()  # แสดงโหนด
	equation_label.visible = false  # ซ่อนโจทย์
	for i in child_node:
		i.show()  # แสดงโหนดลูก

# ฟังก์ชันเมื่อร่างกายออกจากพื้นที่
func _on_area_2d_body_exited(body: Node2D) -> void:
	generate_equation()  # สร้างโจทย์ใหม่
	equation_label.visible = true  # แสดงโจทย์ใหม่

# ฟังก์ชันตรวจสอบคำตอบ
func check_answer(new_text : String):
	if new_text == str(parent_node.result):
		move_player_to_node(parent_node)  # ย้ายไปยังโหนดแม่
	elif new_text == str(child_node[0].result):
		move_player_to_node(child_node[0])  # ย้ายไปยังโหนดลูก 0
	elif new_text == str(child_node[1].result):
		move_player_to_node(child_node[1])  # ย้ายไปยังโหนดลูก 1
	elif new_text == str(child_node[2].result):
		move_player_to_node(child_node[2])  # ย้ายไปยังโหนดลูก 2

# ฟังก์ชันย้ายตัวละครไปยังโหนด
func move_player_to_node(target_node: Node2D) -> void:
	player.position = target_node.position
"

[sub_resource type="GDScript" id="GDScript_vuq6o"]
script/source = "extends Node2D

var result
var equation_label : Label
@onready var parent_node : Node2D = $\"../Node1\"  # โหนดแม่
@onready var child_node = [$\"../Node5\", $\"../Node6\", $\"../Node7\"]  # โหนดลูก
@onready var player = $Player  # ตัวละคร

var answer_move = []

# เริ่มต้น
func _ready() -> void:
	hide()  # ซ่อนโหนดในตอนแรก
	equation_label = $Label  # ตั้งค่าฉลากที่แสดงโจทย์
	generate_equation()  # สร้างโจทย์ทางคณิตศาสตร์
	print($\"../Node2\".result)  # ตรวจสอบคำตอบของโหนดลูก

# ฟังก์ชันสร้างโจทย์ทางคณิตศาสตร์
func generate_equation() -> void:
	var operator: Array = [\"+\", \"-\", \"*\", \"/\"]
	var num1 = randi_range(-9, 9)
	var num2 = randi_range(-9, 9)
	var random_operator = randi_range(0, 3)

	match random_operator:
		0:
			result = num1 + num2
		1:
			result = num1 - num2
		2:
			result = num1 * num2
		3:
			while num2 == 0 or num1 % num2 != 0:
				num2 = randi_range(-9, 9)
			result = num1 / num2

	equation_label.text = str(num1, \" \", operator[random_operator], \" \", num2, \" = ?\")

# ฟังก์ชันเมื่อมีการชนกับร่างกาย
func _on_area_2d_body_entered(body: Node2D) -> void:
	#get_parent().current_node = get_node(name)  # ตั้งค่าชื่อของโหนดเป็น current_node
	get_parent().current_answers = [result, child_node[0].result, child_node[1].result, child_node[2].result]
	
	show()  # แสดงโหนด
	equation_label.visible = false  # ซ่อนโจทย์
	for i in child_node:
		i.show()  # แสดงโหนดลูก

# ฟังก์ชันเมื่อร่างกายออกจากพื้นที่
func _on_area_2d_body_exited(body: Node2D) -> void:
	generate_equation()  # สร้างโจทย์ใหม่
	equation_label.visible = true  # แสดงโจทย์ใหม่

# ฟังก์ชันตรวจสอบคำตอบ
func check_answer(new_text : String):
	if new_text == str(parent_node.result):
		move_player_to_node(parent_node)  # ย้ายไปยังโหนดแม่
	elif new_text == str(child_node[0].result):
		move_player_to_node(child_node[0])  # ย้ายไปยังโหนดลูก 0
	elif new_text == str(child_node[1].result):
		move_player_to_node(child_node[1])  # ย้ายไปยังโหนดลูก 1
	elif new_text == str(child_node[2].result):
		move_player_to_node(child_node[2])  # ย้ายไปยังโหนดลูก 2

# ฟังก์ชันย้ายตัวละครไปยังโหนด
func move_player_to_node(target_node: Node2D) -> void:
	player.position = target_node.position
"

[sub_resource type="GDScript" id="GDScript_a0vur"]
script/source = "extends Node2D

var result
var equation_label : Label
@onready var parent_node : Node2D = $\"../Node1\"  # โหนดแม่
@onready var child_node = [$\"../Node5\", $\"../Node6\", $\"../Node7\"]  # โหนดลูก
@onready var player = $Player  # ตัวละคร

var answer_move = []

# เริ่มต้น
func _ready() -> void:
	hide()  # ซ่อนโหนดในตอนแรก
	equation_label = $Label  # ตั้งค่าฉลากที่แสดงโจทย์
	generate_equation()  # สร้างโจทย์ทางคณิตศาสตร์
	print($\"../Node2\".result)  # ตรวจสอบคำตอบของโหนดลูก

# ฟังก์ชันสร้างโจทย์ทางคณิตศาสตร์
func generate_equation() -> void:
	var operator: Array = [\"+\", \"-\", \"*\", \"/\"]
	var num1 = randi_range(-9, 9)
	var num2 = randi_range(-9, 9)
	var random_operator = randi_range(0, 3)

	match random_operator:
		0:
			result = num1 + num2
		1:
			result = num1 - num2
		2:
			result = num1 * num2
		3:
			while num2 == 0 or num1 % num2 != 0:
				num2 = randi_range(-9, 9)
			result = num1 / num2

	equation_label.text = str(num1, \" \", operator[random_operator], \" \", num2, \" = ?\")

# ฟังก์ชันเมื่อมีการชนกับร่างกาย
func _on_area_2d_body_entered(body: Node2D) -> void:
	#get_parent().current_node = get_node(name)  # ตั้งค่าชื่อของโหนดเป็น current_node
	get_parent().current_answers = [result, child_node[0].result, child_node[1].result, child_node[2].result]
	
	show()  # แสดงโหนด
	equation_label.visible = false  # ซ่อนโจทย์
	for i in child_node:
		i.show()  # แสดงโหนดลูก

# ฟังก์ชันเมื่อร่างกายออกจากพื้นที่
func _on_area_2d_body_exited(body: Node2D) -> void:
	generate_equation()  # สร้างโจทย์ใหม่
	equation_label.visible = true  # แสดงโจทย์ใหม่

# ฟังก์ชันตรวจสอบคำตอบ
func check_answer(new_text : String):
	if new_text == str(parent_node.result):
		move_player_to_node(parent_node)  # ย้ายไปยังโหนดแม่
	elif new_text == str(child_node[0].result):
		move_player_to_node(child_node[0])  # ย้ายไปยังโหนดลูก 0
	elif new_text == str(child_node[1].result):
		move_player_to_node(child_node[1])  # ย้ายไปยังโหนดลูก 1
	elif new_text == str(child_node[2].result):
		move_player_to_node(child_node[2])  # ย้ายไปยังโหนดลูก 2

# ฟังก์ชันย้ายตัวละครไปยังโหนด
func move_player_to_node(target_node: Node2D) -> void:
	player.position = target_node.position
"

[sub_resource type="GDScript" id="GDScript_tlai8"]
script/source = "extends Node2D

var result
var equation_label : Label
@onready var parent_node : Node2D = $\"../Node1\"  # โหนดแม่
@onready var child_node = [$\"../Node5\", $\"../Node6\", $\"../Node7\"]  # โหนดลูก
@onready var player = $Player  # ตัวละคร

var answer_move = []

# เริ่มต้น
func _ready() -> void:
	hide()  # ซ่อนโหนดในตอนแรก
	equation_label = $Label  # ตั้งค่าฉลากที่แสดงโจทย์
	generate_equation()  # สร้างโจทย์ทางคณิตศาสตร์
	print($\"../Node2\".result)  # ตรวจสอบคำตอบของโหนดลูก

# ฟังก์ชันสร้างโจทย์ทางคณิตศาสตร์
func generate_equation() -> void:
	var operator: Array = [\"+\", \"-\", \"*\", \"/\"]
	var num1 = randi_range(-9, 9)
	var num2 = randi_range(-9, 9)
	var random_operator = randi_range(0, 3)

	match random_operator:
		0:
			result = num1 + num2
		1:
			result = num1 - num2
		2:
			result = num1 * num2
		3:
			while num2 == 0 or num1 % num2 != 0:
				num2 = randi_range(-9, 9)
			result = num1 / num2

	equation_label.text = str(num1, \" \", operator[random_operator], \" \", num2, \" = ?\")

# ฟังก์ชันเมื่อมีการชนกับร่างกาย
func _on_area_2d_body_entered(body: Node2D) -> void:
	#get_parent().current_node = get_node(name)  # ตั้งค่าชื่อของโหนดเป็น current_node
	get_parent().current_answers = [result, child_node[0].result, child_node[1].result, child_node[2].result]
	
	show()  # แสดงโหนด
	equation_label.visible = false  # ซ่อนโจทย์
	for i in child_node:
		i.show()  # แสดงโหนดลูก

# ฟังก์ชันเมื่อร่างกายออกจากพื้นที่
func _on_area_2d_body_exited(body: Node2D) -> void:
	generate_equation()  # สร้างโจทย์ใหม่
	equation_label.visible = true  # แสดงโจทย์ใหม่

# ฟังก์ชันตรวจสอบคำตอบ
func check_answer(new_text : String):
	if new_text == str(parent_node.result):
		move_player_to_node(parent_node)  # ย้ายไปยังโหนดแม่
	elif new_text == str(child_node[0].result):
		move_player_to_node(child_node[0])  # ย้ายไปยังโหนดลูก 0
	elif new_text == str(child_node[1].result):
		move_player_to_node(child_node[1])  # ย้ายไปยังโหนดลูก 1
	elif new_text == str(child_node[2].result):
		move_player_to_node(child_node[2])  # ย้ายไปยังโหนดลูก 2

# ฟังก์ชันย้ายตัวละครไปยังโหนด
func move_player_to_node(target_node: Node2D) -> void:
	player.position = target_node.position
"

[sub_resource type="GDScript" id="GDScript_yqycq"]
script/source = "extends Node2D

var result
var equation_label : Label
@onready var parent_node : Node2D = $\"../Node1\"  # โหนดแม่
@onready var child_node = [$\"../Node5\", $\"../Node6\", $\"../Node7\"]  # โหนดลูก
@onready var player = $Player  # ตัวละคร

var answer_move = []

# เริ่มต้น
func _ready() -> void:
	hide()  # ซ่อนโหนดในตอนแรก
	equation_label = $Label  # ตั้งค่าฉลากที่แสดงโจทย์
	generate_equation()  # สร้างโจทย์ทางคณิตศาสตร์
	print($\"../Node2\".result)  # ตรวจสอบคำตอบของโหนดลูก

# ฟังก์ชันสร้างโจทย์ทางคณิตศาสตร์
func generate_equation() -> void:
	var operator: Array = [\"+\", \"-\", \"*\", \"/\"]
	var num1 = randi_range(-9, 9)
	var num2 = randi_range(-9, 9)
	var random_operator = randi_range(0, 3)

	match random_operator:
		0:
			result = num1 + num2
		1:
			result = num1 - num2
		2:
			result = num1 * num2
		3:
			while num2 == 0 or num1 % num2 != 0:
				num2 = randi_range(-9, 9)
			result = num1 / num2

	equation_label.text = str(num1, \" \", operator[random_operator], \" \", num2, \" = ?\")

# ฟังก์ชันเมื่อมีการชนกับร่างกาย
func _on_area_2d_body_entered(body: Node2D) -> void:
	#get_parent().current_node = get_node(name)  # ตั้งค่าชื่อของโหนดเป็น current_node
	get_parent().current_answers = [result, child_node[0].result, child_node[1].result, child_node[2].result]
	
	show()  # แสดงโหนด
	equation_label.visible = false  # ซ่อนโจทย์
	for i in child_node:
		i.show()  # แสดงโหนดลูก

# ฟังก์ชันเมื่อร่างกายออกจากพื้นที่
func _on_area_2d_body_exited(body: Node2D) -> void:
	generate_equation()  # สร้างโจทย์ใหม่
	equation_label.visible = true  # แสดงโจทย์ใหม่

# ฟังก์ชันตรวจสอบคำตอบ
func check_answer(new_text : String):
	if new_text == str(parent_node.result):
		move_player_to_node(parent_node)  # ย้ายไปยังโหนดแม่
	elif new_text == str(child_node[0].result):
		move_player_to_node(child_node[0])  # ย้ายไปยังโหนดลูก 0
	elif new_text == str(child_node[1].result):
		move_player_to_node(child_node[1])  # ย้ายไปยังโหนดลูก 1
	elif new_text == str(child_node[2].result):
		move_player_to_node(child_node[2])  # ย้ายไปยังโหนดลูก 2

# ฟังก์ชันย้ายตัวละครไปยังโหนด
func move_player_to_node(target_node: Node2D) -> void:
	player.position = target_node.position
"

[sub_resource type="GDScript" id="GDScript_2sjyn"]
script/source = "extends Node2D

var result
var equation_label : Label
@onready var parent_node : Node2D = $\"../Node1\"  # โหนดแม่
@onready var child_node = [$\"../Node5\", $\"../Node6\", $\"../Node7\"]  # โหนดลูก
@onready var player = $Player  # ตัวละคร

var answer_move = []

# เริ่มต้น
func _ready() -> void:
	hide()  # ซ่อนโหนดในตอนแรก
	equation_label = $Label  # ตั้งค่าฉลากที่แสดงโจทย์
	generate_equation()  # สร้างโจทย์ทางคณิตศาสตร์
	print($\"../Node2\".result)  # ตรวจสอบคำตอบของโหนดลูก

# ฟังก์ชันสร้างโจทย์ทางคณิตศาสตร์
func generate_equation() -> void:
	var operator: Array = [\"+\", \"-\", \"*\", \"/\"]
	var num1 = randi_range(-9, 9)
	var num2 = randi_range(-9, 9)
	var random_operator = randi_range(0, 3)

	match random_operator:
		0:
			result = num1 + num2
		1:
			result = num1 - num2
		2:
			result = num1 * num2
		3:
			while num2 == 0 or num1 % num2 != 0:
				num2 = randi_range(-9, 9)
			result = num1 / num2

	equation_label.text = str(num1, \" \", operator[random_operator], \" \", num2, \" = ?\")

# ฟังก์ชันเมื่อมีการชนกับร่างกาย
func _on_area_2d_body_entered(body: Node2D) -> void:
	#get_parent().current_node = get_node(name)  # ตั้งค่าชื่อของโหนดเป็น current_node
	get_parent().current_answers = [result, child_node[0].result, child_node[1].result, child_node[2].result]
	
	show()  # แสดงโหนด
	equation_label.visible = false  # ซ่อนโจทย์
	for i in child_node:
		i.show()  # แสดงโหนดลูก

# ฟังก์ชันเมื่อร่างกายออกจากพื้นที่
func _on_area_2d_body_exited(body: Node2D) -> void:
	generate_equation()  # สร้างโจทย์ใหม่
	equation_label.visible = true  # แสดงโจทย์ใหม่

# ฟังก์ชันตรวจสอบคำตอบ
func check_answer(new_text : String):
	if new_text == str(parent_node.result):
		move_player_to_node(parent_node)  # ย้ายไปยังโหนดแม่
	elif new_text == str(child_node[0].result):
		move_player_to_node(child_node[0])  # ย้ายไปยังโหนดลูก 0
	elif new_text == str(child_node[1].result):
		move_player_to_node(child_node[1])  # ย้ายไปยังโหนดลูก 1
	elif new_text == str(child_node[2].result):
		move_player_to_node(child_node[2])  # ย้ายไปยังโหนดลูก 2

# ฟังก์ชันย้ายตัวละครไปยังโหนด
func move_player_to_node(target_node: Node2D) -> void:
	player.position = target_node.position
"

[sub_resource type="GDScript" id="GDScript_sex0e"]
script/source = "extends Node2D

var result
var equation_label : Label
@onready var parent_node : Node2D = $\"../Node1\"  # โหนดแม่
@onready var child_node = [$\"../Node5\", $\"../Node6\", $\"../Node7\"]  # โหนดลูก
@onready var player = $Player  # ตัวละคร

var answer_move = []

# เริ่มต้น
func _ready() -> void:
	hide()  # ซ่อนโหนดในตอนแรก
	equation_label = $Label  # ตั้งค่าฉลากที่แสดงโจทย์
	generate_equation()  # สร้างโจทย์ทางคณิตศาสตร์
	print($\"../Node2\".result)  # ตรวจสอบคำตอบของโหนดลูก

# ฟังก์ชันสร้างโจทย์ทางคณิตศาสตร์
func generate_equation() -> void:
	var operator: Array = [\"+\", \"-\", \"*\", \"/\"]
	var num1 = randi_range(-9, 9)
	var num2 = randi_range(-9, 9)
	var random_operator = randi_range(0, 3)

	match random_operator:
		0:
			result = num1 + num2
		1:
			result = num1 - num2
		2:
			result = num1 * num2
		3:
			while num2 == 0 or num1 % num2 != 0:
				num2 = randi_range(-9, 9)
			result = num1 / num2

	equation_label.text = str(num1, \" \", operator[random_operator], \" \", num2, \" = ?\")

# ฟังก์ชันเมื่อมีการชนกับร่างกาย
func _on_area_2d_body_entered(body: Node2D) -> void:
	#get_parent().current_node = get_node(name)  # ตั้งค่าชื่อของโหนดเป็น current_node
	get_parent().current_answers = [result, child_node[0].result, child_node[1].result, child_node[2].result]
	
	show()  # แสดงโหนด
	equation_label.visible = false  # ซ่อนโจทย์
	for i in child_node:
		i.show()  # แสดงโหนดลูก

# ฟังก์ชันเมื่อร่างกายออกจากพื้นที่
func _on_area_2d_body_exited(body: Node2D) -> void:
	generate_equation()  # สร้างโจทย์ใหม่
	equation_label.visible = true  # แสดงโจทย์ใหม่

# ฟังก์ชันตรวจสอบคำตอบ
func check_answer(new_text : String):
	if new_text == str(parent_node.result):
		move_player_to_node(parent_node)  # ย้ายไปยังโหนดแม่
	elif new_text == str(child_node[0].result):
		move_player_to_node(child_node[0])  # ย้ายไปยังโหนดลูก 0
	elif new_text == str(child_node[1].result):
		move_player_to_node(child_node[1])  # ย้ายไปยังโหนดลูก 1
	elif new_text == str(child_node[2].result):
		move_player_to_node(child_node[2])  # ย้ายไปยังโหนดลูก 2

# ฟังก์ชันย้ายตัวละครไปยังโหนด
func move_player_to_node(target_node: Node2D) -> void:
	player.position = target_node.position
"

[sub_resource type="GDScript" id="GDScript_ha6om"]
script/source = "extends Node2D

var result
var equation_label : Label
@onready var parent_node : Node2D = $\"../Node1\"  # โหนดแม่
@onready var child_node = [$\"../Node5\", $\"../Node6\", $\"../Node7\"]  # โหนดลูก
@onready var player = $Player  # ตัวละคร

var answer_move = []

# เริ่มต้น
func _ready() -> void:
	hide()  # ซ่อนโหนดในตอนแรก
	equation_label = $Label  # ตั้งค่าฉลากที่แสดงโจทย์
	generate_equation()  # สร้างโจทย์ทางคณิตศาสตร์
	print($\"../Node2\".result)  # ตรวจสอบคำตอบของโหนดลูก

# ฟังก์ชันสร้างโจทย์ทางคณิตศาสตร์
func generate_equation() -> void:
	var operator: Array = [\"+\", \"-\", \"*\", \"/\"]
	var num1 = randi_range(-9, 9)
	var num2 = randi_range(-9, 9)
	var random_operator = randi_range(0, 3)

	match random_operator:
		0:
			result = num1 + num2
		1:
			result = num1 - num2
		2:
			result = num1 * num2
		3:
			while num2 == 0 or num1 % num2 != 0:
				num2 = randi_range(-9, 9)
			result = num1 / num2

	equation_label.text = str(num1, \" \", operator[random_operator], \" \", num2, \" = ?\")

# ฟังก์ชันเมื่อมีการชนกับร่างกาย
func _on_area_2d_body_entered(body: Node2D) -> void:
	#get_parent().current_node = get_node(name)  # ตั้งค่าชื่อของโหนดเป็น current_node
	get_parent().current_answers = [result, child_node[0].result, child_node[1].result, child_node[2].result]
	
	show()  # แสดงโหนด
	equation_label.visible = false  # ซ่อนโจทย์
	for i in child_node:
		i.show()  # แสดงโหนดลูก

# ฟังก์ชันเมื่อร่างกายออกจากพื้นที่
func _on_area_2d_body_exited(body: Node2D) -> void:
	generate_equation()  # สร้างโจทย์ใหม่
	equation_label.visible = true  # แสดงโจทย์ใหม่

# ฟังก์ชันตรวจสอบคำตอบ
func check_answer(new_text : String):
	if new_text == str(parent_node.result):
		move_player_to_node(parent_node)  # ย้ายไปยังโหนดแม่
	elif new_text == str(child_node[0].result):
		move_player_to_node(child_node[0])  # ย้ายไปยังโหนดลูก 0
	elif new_text == str(child_node[1].result):
		move_player_to_node(child_node[1])  # ย้ายไปยังโหนดลูก 1
	elif new_text == str(child_node[2].result):
		move_player_to_node(child_node[2])  # ย้ายไปยังโหนดลูก 2

# ฟังก์ชันย้ายตัวละครไปยังโหนด
func move_player_to_node(target_node: Node2D) -> void:
	player.position = target_node.position
"

[sub_resource type="GDScript" id="GDScript_k15sd"]
script/source = "extends Node2D

var result
var equation_label : Label
@onready var parent_node : Node2D = $\"../Node1\"  # โหนดแม่
@onready var child_node = [$\"../Node5\", $\"../Node6\", $\"../Node7\"]  # โหนดลูก
@onready var player = $Player  # ตัวละคร

var answer_move = []

# เริ่มต้น
func _ready() -> void:
	hide()  # ซ่อนโหนดในตอนแรก
	equation_label = $Label  # ตั้งค่าฉลากที่แสดงโจทย์
	generate_equation()  # สร้างโจทย์ทางคณิตศาสตร์
	print($\"../Node2\".result)  # ตรวจสอบคำตอบของโหนดลูก

# ฟังก์ชันสร้างโจทย์ทางคณิตศาสตร์
func generate_equation() -> void:
	var operator: Array = [\"+\", \"-\", \"*\", \"/\"]
	var num1 = randi_range(-9, 9)
	var num2 = randi_range(-9, 9)
	var random_operator = randi_range(0, 3)

	match random_operator:
		0:
			result = num1 + num2
		1:
			result = num1 - num2
		2:
			result = num1 * num2
		3:
			while num2 == 0 or num1 % num2 != 0:
				num2 = randi_range(-9, 9)
			result = num1 / num2

	equation_label.text = str(num1, \" \", operator[random_operator], \" \", num2, \" = ?\")

# ฟังก์ชันเมื่อมีการชนกับร่างกาย
func _on_area_2d_body_entered(body: Node2D) -> void:
	#get_parent().current_node = get_node(name)  # ตั้งค่าชื่อของโหนดเป็น current_node
	get_parent().current_answers = [result, child_node[0].result, child_node[1].result, child_node[2].result]
	
	show()  # แสดงโหนด
	equation_label.visible = false  # ซ่อนโจทย์
	for i in child_node:
		i.show()  # แสดงโหนดลูก

# ฟังก์ชันเมื่อร่างกายออกจากพื้นที่
func _on_area_2d_body_exited(body: Node2D) -> void:
	generate_equation()  # สร้างโจทย์ใหม่
	equation_label.visible = true  # แสดงโจทย์ใหม่

# ฟังก์ชันตรวจสอบคำตอบ
func check_answer(new_text : String):
	if new_text == str(parent_node.result):
		move_player_to_node(parent_node)  # ย้ายไปยังโหนดแม่
	elif new_text == str(child_node[0].result):
		move_player_to_node(child_node[0])  # ย้ายไปยังโหนดลูก 0
	elif new_text == str(child_node[1].result):
		move_player_to_node(child_node[1])  # ย้ายไปยังโหนดลูก 1
	elif new_text == str(child_node[2].result):
		move_player_to_node(child_node[2])  # ย้ายไปยังโหนดลูก 2

# ฟังก์ชันย้ายตัวละครไปยังโหนด
func move_player_to_node(target_node: Node2D) -> void:
	player.position = target_node.position
"

[sub_resource type="GDScript" id="GDScript_c7crj"]
script/source = "extends Node2D

var result
var equation_label : Label
@onready var parent_node : Node2D = $\"../Node1\"  # โหนดแม่
@onready var child_node = [$\"../Node5\", $\"../Node6\", $\"../Node7\"]  # โหนดลูก
@onready var player = $Player  # ตัวละคร

var answer_move = []

# เริ่มต้น
func _ready() -> void:
	hide()  # ซ่อนโหนดในตอนแรก
	equation_label = $Label  # ตั้งค่าฉลากที่แสดงโจทย์
	generate_equation()  # สร้างโจทย์ทางคณิตศาสตร์
	print($\"../Node2\".result)  # ตรวจสอบคำตอบของโหนดลูก

# ฟังก์ชันสร้างโจทย์ทางคณิตศาสตร์
func generate_equation() -> void:
	var operator: Array = [\"+\", \"-\", \"*\", \"/\"]
	var num1 = randi_range(-9, 9)
	var num2 = randi_range(-9, 9)
	var random_operator = randi_range(0, 3)

	match random_operator:
		0:
			result = num1 + num2
		1:
			result = num1 - num2
		2:
			result = num1 * num2
		3:
			while num2 == 0 or num1 % num2 != 0:
				num2 = randi_range(-9, 9)
			result = num1 / num2

	equation_label.text = str(num1, \" \", operator[random_operator], \" \", num2, \" = ?\")

# ฟังก์ชันเมื่อมีการชนกับร่างกาย
func _on_area_2d_body_entered(body: Node2D) -> void:
	#get_parent().current_node = get_node(name)  # ตั้งค่าชื่อของโหนดเป็น current_node
	get_parent().current_answers = [result, child_node[0].result, child_node[1].result, child_node[2].result]
	
	show()  # แสดงโหนด
	equation_label.visible = false  # ซ่อนโจทย์
	for i in child_node:
		i.show()  # แสดงโหนดลูก

# ฟังก์ชันเมื่อร่างกายออกจากพื้นที่
func _on_area_2d_body_exited(body: Node2D) -> void:
	generate_equation()  # สร้างโจทย์ใหม่
	equation_label.visible = true  # แสดงโจทย์ใหม่

# ฟังก์ชันตรวจสอบคำตอบ
func check_answer(new_text : String):
	if new_text == str(parent_node.result):
		move_player_to_node(parent_node)  # ย้ายไปยังโหนดแม่
	elif new_text == str(child_node[0].result):
		move_player_to_node(child_node[0])  # ย้ายไปยังโหนดลูก 0
	elif new_text == str(child_node[1].result):
		move_player_to_node(child_node[1])  # ย้ายไปยังโหนดลูก 1
	elif new_text == str(child_node[2].result):
		move_player_to_node(child_node[2])  # ย้ายไปยังโหนดลูก 2

# ฟังก์ชันย้ายตัวละครไปยังโหนด
func move_player_to_node(target_node: Node2D) -> void:
	player.position = target_node.position
"

[sub_resource type="GDScript" id="GDScript_7ygvj"]
script/source = "extends Node2D

var result
var equation_label : Label
@onready var parent_node : Node2D = $\"../Node1\"  # โหนดแม่
@onready var child_node = [$\"../Node5\", $\"../Node6\", $\"../Node7\"]  # โหนดลูก
@onready var player = $Player  # ตัวละคร

var answer_move = []

# เริ่มต้น
func _ready() -> void:
	hide()  # ซ่อนโหนดในตอนแรก
	equation_label = $Label  # ตั้งค่าฉลากที่แสดงโจทย์
	generate_equation()  # สร้างโจทย์ทางคณิตศาสตร์
	print($\"../Node2\".result)  # ตรวจสอบคำตอบของโหนดลูก

# ฟังก์ชันสร้างโจทย์ทางคณิตศาสตร์
func generate_equation() -> void:
	var operator: Array = [\"+\", \"-\", \"*\", \"/\"]
	var num1 = randi_range(-9, 9)
	var num2 = randi_range(-9, 9)
	var random_operator = randi_range(0, 3)

	match random_operator:
		0:
			result = num1 + num2
		1:
			result = num1 - num2
		2:
			result = num1 * num2
		3:
			while num2 == 0 or num1 % num2 != 0:
				num2 = randi_range(-9, 9)
			result = num1 / num2

	equation_label.text = str(num1, \" \", operator[random_operator], \" \", num2, \" = ?\")

# ฟังก์ชันเมื่อมีการชนกับร่างกาย
func _on_area_2d_body_entered(body: Node2D) -> void:
	#get_parent().current_node = get_node(name)  # ตั้งค่าชื่อของโหนดเป็น current_node
	get_parent().current_answers = [result, child_node[0].result, child_node[1].result, child_node[2].result]
	
	show()  # แสดงโหนด
	equation_label.visible = false  # ซ่อนโจทย์
	for i in child_node:
		i.show()  # แสดงโหนดลูก

# ฟังก์ชันเมื่อร่างกายออกจากพื้นที่
func _on_area_2d_body_exited(body: Node2D) -> void:
	generate_equation()  # สร้างโจทย์ใหม่
	equation_label.visible = true  # แสดงโจทย์ใหม่

# ฟังก์ชันตรวจสอบคำตอบ
func check_answer(new_text : String):
	if new_text == str(parent_node.result):
		move_player_to_node(parent_node)  # ย้ายไปยังโหนดแม่
	elif new_text == str(child_node[0].result):
		move_player_to_node(child_node[0])  # ย้ายไปยังโหนดลูก 0
	elif new_text == str(child_node[1].result):
		move_player_to_node(child_node[1])  # ย้ายไปยังโหนดลูก 1
	elif new_text == str(child_node[2].result):
		move_player_to_node(child_node[2])  # ย้ายไปยังโหนดลูก 2

# ฟังก์ชันย้ายตัวละครไปยังโหนด
func move_player_to_node(target_node: Node2D) -> void:
	player.position = target_node.position
"

[sub_resource type="GDScript" id="GDScript_cawmf"]
script/source = "extends Node2D

var result
var equation_label : Label
@onready var parent_node : Node2D = $\"../Node1\"  # โหนดแม่
@onready var child_node = [$\"../Node5\", $\"../Node6\", $\"../Node7\"]  # โหนดลูก
@onready var player = $Player  # ตัวละคร

var answer_move = []

# เริ่มต้น
func _ready() -> void:
	hide()  # ซ่อนโหนดในตอนแรก
	equation_label = $Label  # ตั้งค่าฉลากที่แสดงโจทย์
	generate_equation()  # สร้างโจทย์ทางคณิตศาสตร์
	print($\"../Node2\".result)  # ตรวจสอบคำตอบของโหนดลูก

# ฟังก์ชันสร้างโจทย์ทางคณิตศาสตร์
func generate_equation() -> void:
	var operator: Array = [\"+\", \"-\", \"*\", \"/\"]
	var num1 = randi_range(-9, 9)
	var num2 = randi_range(-9, 9)
	var random_operator = randi_range(0, 3)

	match random_operator:
		0:
			result = num1 + num2
		1:
			result = num1 - num2
		2:
			result = num1 * num2
		3:
			while num2 == 0 or num1 % num2 != 0:
				num2 = randi_range(-9, 9)
			result = num1 / num2

	equation_label.text = str(num1, \" \", operator[random_operator], \" \", num2, \" = ?\")

# ฟังก์ชันเมื่อมีการชนกับร่างกาย
func _on_area_2d_body_entered(body: Node2D) -> void:
	#get_parent().current_node = get_node(name)  # ตั้งค่าชื่อของโหนดเป็น current_node
	get_parent().current_answers = [result, child_node[0].result, child_node[1].result, child_node[2].result]
	
	show()  # แสดงโหนด
	equation_label.visible = false  # ซ่อนโจทย์
	for i in child_node:
		i.show()  # แสดงโหนดลูก

# ฟังก์ชันเมื่อร่างกายออกจากพื้นที่
func _on_area_2d_body_exited(body: Node2D) -> void:
	generate_equation()  # สร้างโจทย์ใหม่
	equation_label.visible = true  # แสดงโจทย์ใหม่

# ฟังก์ชันตรวจสอบคำตอบ
func check_answer(new_text : String):
	if new_text == str(parent_node.result):
		move_player_to_node(parent_node)  # ย้ายไปยังโหนดแม่
	elif new_text == str(child_node[0].result):
		move_player_to_node(child_node[0])  # ย้ายไปยังโหนดลูก 0
	elif new_text == str(child_node[1].result):
		move_player_to_node(child_node[1])  # ย้ายไปยังโหนดลูก 1
	elif new_text == str(child_node[2].result):
		move_player_to_node(child_node[2])  # ย้ายไปยังโหนดลูก 2

# ฟังก์ชันย้ายตัวละครไปยังโหนด
func move_player_to_node(target_node: Node2D) -> void:
	player.position = target_node.position
"

[sub_resource type="GDScript" id="GDScript_ow27p"]
script/source = "extends Node2D

var result
var equation_label : Label
@onready var parent_node : Node2D = $\"../Node1\"  # โหนดแม่
@onready var child_node = [$\"../Node5\", $\"../Node6\", $\"../Node7\"]  # โหนดลูก
@onready var player = $Player  # ตัวละคร

var answer_move = []

# เริ่มต้น
func _ready() -> void:
	hide()  # ซ่อนโหนดในตอนแรก
	equation_label = $Label  # ตั้งค่าฉลากที่แสดงโจทย์
	generate_equation()  # สร้างโจทย์ทางคณิตศาสตร์
	print($\"../Node2\".result)  # ตรวจสอบคำตอบของโหนดลูก

# ฟังก์ชันสร้างโจทย์ทางคณิตศาสตร์
func generate_equation() -> void:
	var operator: Array = [\"+\", \"-\", \"*\", \"/\"]
	var num1 = randi_range(-9, 9)
	var num2 = randi_range(-9, 9)
	var random_operator = randi_range(0, 3)

	match random_operator:
		0:
			result = num1 + num2
		1:
			result = num1 - num2
		2:
			result = num1 * num2
		3:
			while num2 == 0 or num1 % num2 != 0:
				num2 = randi_range(-9, 9)
			result = num1 / num2

	equation_label.text = str(num1, \" \", operator[random_operator], \" \", num2, \" = ?\")

# ฟังก์ชันเมื่อมีการชนกับร่างกาย
func _on_area_2d_body_entered(body: Node2D) -> void:
	#get_parent().current_node = get_node(name)  # ตั้งค่าชื่อของโหนดเป็น current_node
	get_parent().current_answers = [result, child_node[0].result, child_node[1].result, child_node[2].result]
	
	show()  # แสดงโหนด
	equation_label.visible = false  # ซ่อนโจทย์
	for i in child_node:
		i.show()  # แสดงโหนดลูก

# ฟังก์ชันเมื่อร่างกายออกจากพื้นที่
func _on_area_2d_body_exited(body: Node2D) -> void:
	generate_equation()  # สร้างโจทย์ใหม่
	equation_label.visible = true  # แสดงโจทย์ใหม่

# ฟังก์ชันตรวจสอบคำตอบ
func check_answer(new_text : String):
	if new_text == str(parent_node.result):
		move_player_to_node(parent_node)  # ย้ายไปยังโหนดแม่
	elif new_text == str(child_node[0].result):
		move_player_to_node(child_node[0])  # ย้ายไปยังโหนดลูก 0
	elif new_text == str(child_node[1].result):
		move_player_to_node(child_node[1])  # ย้ายไปยังโหนดลูก 1
	elif new_text == str(child_node[2].result):
		move_player_to_node(child_node[2])  # ย้ายไปยังโหนดลูก 2

# ฟังก์ชันย้ายตัวละครไปยังโหนด
func move_player_to_node(target_node: Node2D) -> void:
	player.position = target_node.position
"

[sub_resource type="GDScript" id="GDScript_1vask"]
script/source = "extends Node2D

var result
var equation_label : Label
@onready var parent_node : Node2D = $\"../Node1\"  # โหนดแม่
@onready var child_node = [$\"../Node5\", $\"../Node6\", $\"../Node7\"]  # โหนดลูก
@onready var player = $Player  # ตัวละคร

var answer_move = []

# เริ่มต้น
func _ready() -> void:
	hide()  # ซ่อนโหนดในตอนแรก
	equation_label = $Label  # ตั้งค่าฉลากที่แสดงโจทย์
	generate_equation()  # สร้างโจทย์ทางคณิตศาสตร์
	print($\"../Node2\".result)  # ตรวจสอบคำตอบของโหนดลูก

# ฟังก์ชันสร้างโจทย์ทางคณิตศาสตร์
func generate_equation() -> void:
	var operator: Array = [\"+\", \"-\", \"*\", \"/\"]
	var num1 = randi_range(-9, 9)
	var num2 = randi_range(-9, 9)
	var random_operator = randi_range(0, 3)

	match random_operator:
		0:
			result = num1 + num2
		1:
			result = num1 - num2
		2:
			result = num1 * num2
		3:
			while num2 == 0 or num1 % num2 != 0:
				num2 = randi_range(-9, 9)
			result = num1 / num2

	equation_label.text = str(num1, \" \", operator[random_operator], \" \", num2, \" = ?\")

# ฟังก์ชันเมื่อมีการชนกับร่างกาย
func _on_area_2d_body_entered(body: Node2D) -> void:
	#get_parent().current_node = get_node(name)  # ตั้งค่าชื่อของโหนดเป็น current_node
	get_parent().current_answers = [result, child_node[0].result, child_node[1].result, child_node[2].result]
	
	show()  # แสดงโหนด
	equation_label.visible = false  # ซ่อนโจทย์
	for i in child_node:
		i.show()  # แสดงโหนดลูก

# ฟังก์ชันเมื่อร่างกายออกจากพื้นที่
func _on_area_2d_body_exited(body: Node2D) -> void:
	generate_equation()  # สร้างโจทย์ใหม่
	equation_label.visible = true  # แสดงโจทย์ใหม่

# ฟังก์ชันตรวจสอบคำตอบ
func check_answer(new_text : String):
	if new_text == str(parent_node.result):
		move_player_to_node(parent_node)  # ย้ายไปยังโหนดแม่
	elif new_text == str(child_node[0].result):
		move_player_to_node(child_node[0])  # ย้ายไปยังโหนดลูก 0
	elif new_text == str(child_node[1].result):
		move_player_to_node(child_node[1])  # ย้ายไปยังโหนดลูก 1
	elif new_text == str(child_node[2].result):
		move_player_to_node(child_node[2])  # ย้ายไปยังโหนดลูก 2

# ฟังก์ชันย้ายตัวละครไปยังโหนด
func move_player_to_node(target_node: Node2D) -> void:
	player.position = target_node.position
"

[node name="Main" type="Node2D"]
script = ExtResource("1_aqx1i")

[node name="Player" parent="." instance=ExtResource("2_4n4kg")]
z_index = 1
position = Vector2(533, 234)

[node name="Camera2D" type="Camera2D" parent="Player"]
position = Vector2(18, 27)
script = ExtResource("9_twhn5")

[node name="InputBox" type="LineEdit" parent="Player/Camera2D"]
offset_left = -262.0
offset_top = 249.0
offset_right = 198.0
offset_bottom = 280.0

[node name="Sprite2D2" type="Sprite2D" parent="Player/Camera2D"]
position = Vector2(-515, -266)
scale = Vector2(0.175, 0.155556)
texture = ExtResource("4_fcnm7")

[node name="Label" type="Label" parent="Player/Camera2D"]
offset_left = -467.0
offset_top = -275.0
offset_right = -417.0
offset_bottom = -252.0
text = "0"

[node name="Sprite2D" type="Sprite2D" parent="Player/Camera2D"]

[node name="Node1" parent="." instance=ExtResource("3_m4kih")]
position = Vector2(535, 280)
script = SubResource("GDScript_ekua6")

[node name="Node2" parent="." instance=ExtResource("3_m4kih")]
position = Vector2(297, 370)
script = SubResource("GDScript_xihx2")

[node name="Node3" parent="." instance=ExtResource("3_m4kih")]
position = Vector2(815, 384)
script = SubResource("GDScript_wjjdx")

[node name="Node4" parent="." instance=ExtResource("3_m4kih")]
position = Vector2(513, 31)
script = SubResource("GDScript_vuq6o")

[node name="Node5" parent="." instance=ExtResource("3_m4kih")]
position = Vector2(-114, 237)
script = SubResource("GDScript_a0vur")

[node name="Node6" parent="." instance=ExtResource("3_m4kih")]
position = Vector2(3, 562)
script = SubResource("GDScript_tlai8")

[node name="Node7" parent="." instance=ExtResource("3_m4kih")]
position = Vector2(313, 742)
script = SubResource("GDScript_yqycq")

[node name="Node8" parent="." instance=ExtResource("3_m4kih")]
position = Vector2(773, 726)
script = SubResource("GDScript_2sjyn")

[node name="Node9" parent="." instance=ExtResource("3_m4kih")]
position = Vector2(1092, 621)
script = SubResource("GDScript_sex0e")

[node name="Node10" parent="." instance=ExtResource("3_m4kih")]
position = Vector2(1202, 288)
script = SubResource("GDScript_ha6om")

[node name="Node11" parent="." instance=ExtResource("3_m4kih")]
position = Vector2(218, -99)
script = SubResource("GDScript_k15sd")

[node name="Node12" parent="." instance=ExtResource("3_m4kih")]
position = Vector2(530, -221)
script = SubResource("GDScript_c7crj")

[node name="Node13" parent="." instance=ExtResource("3_m4kih")]
position = Vector2(851, -61)
script = SubResource("GDScript_7ygvj")

[node name="Node14" parent="." instance=ExtResource("3_m4kih")]
position = Vector2(-308, 112)
script = SubResource("GDScript_cawmf")

[node name="Node15" parent="." instance=ExtResource("3_m4kih")]
position = Vector2(-351, 239)
script = SubResource("GDScript_ow27p")

[node name="Node16" parent="." instance=ExtResource("3_m4kih")]
position = Vector2(-308, 371)
script = SubResource("GDScript_1vask")

[node name="Node17" parent="." instance=ExtResource("3_m4kih")]
position = Vector2(-253, 579)

[node name="Node18" parent="." instance=ExtResource("3_m4kih")]
position = Vector2(-187, 728)

[node name="Node19" parent="." instance=ExtResource("3_m4kih")]
position = Vector2(-39, 821)

[node name="Node20" parent="." instance=ExtResource("3_m4kih")]
position = Vector2(144, 950)

[node name="Node21" parent="." instance=ExtResource("3_m4kih")]
position = Vector2(259, 1003)

[node name="Node22" parent="." instance=ExtResource("3_m4kih")]
position = Vector2(389, 1013)

[node name="Node23" parent="." instance=ExtResource("3_m4kih")]
position = Vector2(692, 1039)

[node name="Node24" parent="." instance=ExtResource("3_m4kih")]
position = Vector2(834, 1013)

[node name="Node25" parent="." instance=ExtResource("3_m4kih")]
position = Vector2(971, 961)

[node name="Node26" parent="." instance=ExtResource("3_m4kih")]
position = Vector2(1146, 889)

[node name="Node27" parent="." instance=ExtResource("3_m4kih")]
position = Vector2(1258, 799)

[node name="Node28" parent="." instance=ExtResource("3_m4kih")]
position = Vector2(1334, 697)

[node name="Node29" parent="." instance=ExtResource("3_m4kih")]
position = Vector2(1403, 471)

[node name="Node30" parent="." instance=ExtResource("3_m4kih")]
position = Vector2(1446, 311)

[node name="Node31" parent="." instance=ExtResource("3_m4kih")]
position = Vector2(1400, 160)

[node name="Node32" parent="." instance=ExtResource("3_m4kih")]
position = Vector2(-69, -95)

[node name="Node33" parent="." instance=ExtResource("3_m4kih")]
position = Vector2(10, -241)

[node name="Node34" parent="." instance=ExtResource("3_m4kih")]
position = Vector2(189, -311)

[node name="Node35" parent="." instance=ExtResource("3_m4kih")]
position = Vector2(367, -419)

[node name="Node36" parent="." instance=ExtResource("3_m4kih")]
position = Vector2(567, -470)

[node name="Node37" parent="." instance=ExtResource("3_m4kih")]
position = Vector2(746, -380)

[node name="Node38" parent="." instance=ExtResource("3_m4kih")]
position = Vector2(925, -311)

[node name="Node39" parent="." instance=ExtResource("3_m4kih")]
position = Vector2(1077, -187)

[node name="Node40" parent="." instance=ExtResource("3_m4kih")]
position = Vector2(1145, -20)

[node name="key" parent="." instance=ExtResource("22_3mcbc")]
position = Vector2(294, 321)

[node name="key2" parent="." instance=ExtResource("22_3mcbc")]
position = Vector2(0, 516)

[connection signal="text_submitted" from="Player/Camera2D/InputBox" to="." method="_on_input_box_text_submitted"]
